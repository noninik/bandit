<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent System</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš¡</text></svg>">
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <!-- Agents -->
            <div class="sidebar-section">
                <div class="sidebar-title">
                    <span class="folder-icon">â–¼</span> AGENTS
                </div>
                <div id="agentsList"></div>
            </div>

            <!-- Auto-routing toggle -->
            <div class="sidebar-section">
                <div class="sidebar-title">
                    <span class="folder-icon">â–¼</span> MODE
                </div>
                <div class="mode-toggle">
                    <label class="toggle-label">
                        <input type="checkbox" id="autoRoute" checked>
                        <span class="toggle-slider"></span>
                        <span class="toggle-text">ğŸ§  Auto-routing</span>
                    </label>
                    <p class="mode-desc">Ğ”Ğ¸ÑĞ¿ĞµÑ‚Ñ‡ĞµÑ€ ÑĞ°Ğ¼ Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ğ°Ğ³ĞµĞ½Ñ‚Ğ°</p>
                </div>
            </div>

            <!-- Chains -->
            <div class="sidebar-section">
                <div class="sidebar-title">
                    <span class="folder-icon">â–¼</span> CHAINS
                </div>
                <div class="chain-buttons">
                    <button class="chain-btn" onclick="runChain(['researcher','strategist','marketer'], 'ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·')">
                        ğŸ”¥ ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ»
                        <span class="chain-desc">Research â†’ Strategy â†’ Marketing</span>
                    </button>
                    <button class="chain-btn" onclick="runChain(['researcher','developer'], 'Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ')">
                        ğŸ›  Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°
                        <span class="chain-desc">Research â†’ Development</span>
                    </button>
                    <button class="chain-btn" onclick="runChain(['strategist','sales'], 'ĞŸÑ€Ğ¾Ğ´Ğ°Ğ¶Ğ¸')">
                        ğŸ’° Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶
                        <span class="chain-desc">Strategy â†’ Sales</span>
                    </button>
                </div>
            </div>

            <!-- Commands -->
            <div class="sidebar-section">
                <div class="sidebar-title">
                    <span class="folder-icon">â–¼</span> COMMANDS
                </div>
                <div id="commandsList"></div>
            </div>

            <!-- Session -->
            <div class="sidebar-section">
                <div class="sidebar-title">
                    <span class="folder-icon">â–¼</span> SESSION
                </div>
                <div class="session-info">
                    <div class="session-row"><span>ğŸ“Š</span><span>messages: <span id="msgCount">0</span></span></div>
                    <div class="session-row"><span>ğŸ¤–</span><span>agents used: <span id="agentsUsed">0</span></span></div>
                    <div class="session-row"><span>ğŸ•</span><span>uptime: <span id="uptime">00:00</span></span></div>
                    <div class="session-row"><span>ğŸ“</span><span>project: <span id="projectName">default</span></span></div>
                </div>
            </div>

            <!-- Quests -->
            <div class="sidebar-section">
                <div class="sidebar-title">
                    <span class="folder-icon">â–¼</span> QUESTS
                </div>
                <div class="quests-list" id="questsList">
                    <div class="quest-item">
                        <div class="quest-check" id="q1">â˜</div>
                        <span>Ğ˜ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿ĞµÑ€Ğ²ÑƒÑ Ğ½Ğ¸ÑˆÑƒ</span>
                    </div>
                    <div class="quest-item">
                        <div class="quest-check" id="q2">â˜</div>
                        <span>Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ñ†ĞµĞ¿Ğ¾Ñ‡ĞºÑƒ Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ²</span>
                    </div>
                    <div class="quest-item">
                        <div class="quest-check" id="q3">â˜</div>
                        <span>ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ğ»Ğ°Ğ½</span>
                    </div>
                    <div class="quest-item">
                        <div class="quest-check" id="q4">â˜</div>
                        <span>Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶</span>
                    </div>
                    <div class="quest-item">
                        <div class="quest-check" id="q5">â˜</div>
                        <span>Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚</span>
                    </div>
                </div>
            </div>

            <div class="sidebar-footer">
                <button class="sidebar-btn" onclick="exportChat()">ğŸ“¥ Export</button>
                <button class="sidebar-btn danger" onclick="resetChat()">ğŸ—‘ Clear</button>
            </div>
        </aside>

        <button class="mobile-toggle" onclick="toggleSidebar()">â˜°</button>

        <!-- Terminal -->
        <main class="terminal-area">
            <div class="tab-bar">
                <div class="tab active"><span class="tab-icon">âš¡</span> AGENT TERMINAL</div>
                <div class="tab-status">
                    <span class="status-dot" id="statusDot"></span>
                    <span id="statusText">Ready</span>
                </div>
            </div>

            <div class="terminal" id="terminal">
                <div class="terminal-welcome">
                    <pre class="ascii-art">
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘       AI  AGENT  ARMY  SYSTEM  v3.0         â•‘
    â•‘       Digital Workforce Platform             â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</pre>
                    <div class="init-log"><span class="log-success">âœ“</span> System initialized</div>
                    <div class="init-log"><span class="log-success">âœ“</span> Groq API connected</div>
                    <div class="init-log"><span class="log-success">âœ“</span> 5 agents loaded: Researcher, Strategist, Marketer, Developer, Sales</div>
                    <div class="init-log"><span class="log-success">âœ“</span> Auto-routing enabled (AI dispatcher)</div>
                    <div class="init-log"><span class="log-success">âœ“</span> Chain execution ready</div>
                    <div class="init-log"><span class="log-info">â„¹</span> Type a task â†’ AI picks the best agent</div>
                    <div class="init-log"><span class="log-info">â„¹</span> Use CHAINS for multi-agent workflows</div>
                    <div class="init-log"><span class="log-info">â„¹</span> Complete QUESTS to master the system</div>
                </div>
            </div>

            <div class="input-bar">
                <div class="input-prompt">
                    <span class="prompt-agent" id="promptAgent">ğŸ§ </span>
                    <span class="prompt-arrow">â¯</span>
                </div>
                <textarea
                    id="userInput"
                    placeholder="Describe your task... AI will pick the right agent"
                    rows="1"
                    onkeydown="handleKeyDown(event)"
                    spellcheck="false"
                ></textarea>
                <button onclick="sendMessage()" id="sendBtn">â–¶</button>
            </div>
        </main>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
